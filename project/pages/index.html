<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FitLife - –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–∏—Ç–Ω–µ—Å-—Ç—Ä–µ–∫–µ—Ä</title>
  <link rel="stylesheet" href="../styles/index_html.css">
  <script src="https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js"></script>
</head>
<body>
  <header>
    <div class="profile">
      <img src="https://i.pravatar.cc/45" class="profile-img" alt="–ü—Ä–æ—Ñ–∏–ª—å">
      <span id="username">–ì–æ—Å—Ç—å</span>
    </div>
    <div class="burger" onclick="toggleMenu()">‚ò∞</div>
  </header>

  <nav class="menu" id="menu">
    <a href="#" onclick="closeMenu()">üè† –ì–ª–∞–≤–Ω–∞—è</a>
    <a href="diet.html" onclick="closeMenu()">ü•ó –î–∏–µ—Ç–∞</a>
    <a href="workout.html" onclick="closeMenu()">üí™ –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</a>
    <a href="progress.html" onclick="closeMenu()">üìä –ü—Ä–æ–≥—Ä–µ—Å—Å</a>
    <a href="settings.html" onclick="closeMenu()">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</a>
  </nav>

  <main class="main">
    <section class="hero">
      <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, <span id="mainUsername">–ì–æ—Å—Ç—å</span>!</h1>
      <p>–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –≤ –º–∏—Ä–µ —Ñ–∏—Ç–Ω–µ—Å–∞ –∏ –∑–¥–æ—Ä–æ–≤—å—è</p>
      
      <div class="btn-group">
        <button class="btn" onclick="startDiet()">ü•ó –ù–∞—á–∞—Ç—å –¥–∏–µ—Ç—É</button>
        <button class="btn" onclick="startWorkout()">üèãÔ∏è –ù–∞—á–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É</button>
        <button class="btn" onclick="showProgress()">üìä –ú–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
      </div>
    </section>

      <section class="section">
      <div class="progress-ring">
        <svg class="progress-svg" width="150" height="150">
          <circle
            cx="75"
            cy="75"
            r="70"
            fill="none"
            stroke="#eee"
            stroke-width="10"
          />
          <circle
            cx="75"
            cy="75"
            r="70"
            fill="none"
            stroke="var(--primary)"
            stroke-width="10"
            stroke-dasharray="439.8"
            stroke-dashoffset="439.8"
            id="progressCircle"
          />
        </svg>
        <div class="progress-text">0%</div>
      </div>
    </section>

    <section class="section">
      <h2>üíß –í–æ–¥–Ω—ã–π –±–∞–ª–∞–Ω—Å</h2>
      <div class="water-tracker">
        <div class="water-bottle">
          <div class="water-fill" id="waterFill"></div>
        </div>
        <div class="btn-group">
          <button class="btn" onclick="addWater(250)">+250 –º–ª</button>
          <button class="btn" onclick="addWater(500)">+500 –º–ª</button>
        </div>
        <p>–í—ã–ø–∏—Ç–æ —Å–µ–≥–æ–¥–Ω—è: <span id="waterCount">0</span> / 2000 –º–ª</p>
      </div>
    </section>
  </main>

  <script>
     // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
    const progressCircle = document.getElementById('progressCircle');
    const circumference = 2 * Math.PI * 70;
    let currentProgress = 0;

    progressCircle.style.strokeDasharray = circumference;
    progressCircle.style.strokeDashoffset = circumference;

    function updateProgress(percent) {
      const offset = circumference - (percent / 100) * circumference;
      progressCircle.style.strokeDashoffset = offset;
      document.querySelector('.progress-text').textContent = `${percent}%`;
    }  

      document.addEventListener('DOMContentLoaded', () => {
      VK.init({ apiId: 53368067 });

      VK.WebAppInit()
        .then(() => {
          console.log('App initialized');
          // –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        })
        .catch(console.error);
    });

    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é
    function toggleMenu() {
      document.getElementById('menu').classList.toggle('active');
    }

    function closeMenu() {
      document.getElementById('menu').classList.remove('active');
    }

    // –í–æ–¥–Ω—ã–π –±–∞–ª–∞–Ω—Å
    let waterTotal = 0;
    const maxWater = 2000;

    function addWater(amount) {
      waterTotal = Math.min(waterTotal + amount, maxWater);
      updateWaterDisplay();
    }

    function updateWaterDisplay() {
      document.getElementById('waterCount').textContent = waterTotal;
      const fillHeight = (waterTotal / maxWater) * 100;
      document.getElementById('waterFill').style.height = `${fillHeight}%`;
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    function loadUserData() {
      // –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
      document.getElementById('username').textContent = '–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞';
      document.getElementById('mainUsername').textContent = '–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞';
      updateProgress(45);
      updateWaterDisplay();
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    window.addEventListener('DOMContentLoaded', () => {
      loadUserData();
      
      // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
      document.querySelectorAll('.section').forEach((section, index) => {
        setTimeout(() => {
          section.style.opacity = '1';
          section.style.transform = 'translateY(0)';
        }, index * 200);
      });
    });

    // –ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
    function startDiet() {
      alert('–§—É–Ω–∫—Ü–∏—è –ø–æ–¥–±–æ—Ä–∞ –¥–∏–µ—Ç—ã –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ ü•ó');
    }

    function startWorkout() {
      alert('–§—É–Ω–∫—Ü–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ üí™');
    }

    function showProgress() {
      alert('–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—è–≤–∏—Ç—Å—è —Å–∫–æ—Ä–æ üìä');
    }
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–º—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', () => {
  const savedTheme = localStorage.getItem('theme') || 'light';
  document.documentElement.setAttribute('data-theme', savedTheme);
});
  </script>
</body>
</html>