<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FitLife - –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</title>
  <link rel="stylesheet" href="../styles/workout_html.css">
</head>
<body>
  <header>
    <div class="profile">
      <img src="https://i.pravatar.cc/45" class="profile-img" alt="–ü—Ä–æ—Ñ–∏–ª—å">
      <span>–ê–ª–µ–∫—Å–µ–π –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏–Ω</span>
    </div>
    <div class="burger" onclick="toggleMenu()">‚ò∞</div>
  </header>

  <nav class="menu" id="menu">
    <a href="index.html">üè† –ì–ª–∞–≤–Ω–∞—è</a>
    <a href="diet.html">ü•ó –î–∏–µ—Ç–∞</a>
    <a href="workout.html" class="active">üí™ –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</a>
    <a href="progress.html">üìä –ü—Ä–æ–≥—Ä–µ—Å—Å</a>
    <a href="settings.html">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</a>
  </nav>

  <main class="main">
    <section class="training-section">
      <div id="trainingChoice">
        <h2>–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</h2>
        <div class="training-cards">
          <div class="training-card" onclick="selectProgram('strength')">
            <h3>üí™ –°–∏–ª–æ–≤—ã–µ</h3>
            <p>4-5 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –≤ –Ω–µ–¥–µ–ª—é</p>
            <p>–ù–∞–±–æ—Ä –º—ã—à–µ—á–Ω–æ–π –º–∞—Å—Å—ã</p>
          </div>
          <div class="training-card" onclick="selectProgram('cardio')">
            <h3>üèÉ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ</h3>
            <p>5-6 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –≤ –Ω–µ–¥–µ–ª—é</p>
            <p>–†–∞–∑–≤–∏—Ç–∏–µ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏</p>
          </div>
          <div class="training-card" onclick="selectProgram('yoga')">
            <h3>üßò –ô–æ–≥–∞</h3>
            <p>–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏</p>
            <p>–ì–∏–±–∫–æ—Å—Ç—å –∏ —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ</p>
          </div>
        </div>
      </div>

      <div id="currentProgram" style="display: none;">
        <div class="program-stats">
          <div class="refresh-section">
            <h2 id="programTitle"></h2>
            <button class="btn" onclick="showTrainingChoice()">üîÑ –°–º–µ–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É</button>
          </div>
          
          <div class="day-selector" id="trainingDaySelector"></div>
          
          <div id="dailyWorkout">
            <h3>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –¥–Ω—è: <span id="currentTrainingDay"></span></h3>
            <div class="exercise-list" id="exerciseList"></div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    const programs = {
      strength: {
        title: 'üí™ –°–∏–ª–æ–≤–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞',
        days: ['–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫', '–°—Ä–µ–¥–∞', '–ü—è—Ç–Ω–∏—Ü–∞'],
        schedule: {
          '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫': [
            {
              name: '–ñ–∏–º —à—Ç–∞–Ω–≥–∏ –ª–µ–∂–∞',
              video: 'https://www.youtube.com/embed/rT7DgCr-3pg',
              sets: '4 –ø–æ–¥—Ö–æ–¥–∞ –ø–æ 8-12 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π',
              rest: '2 –º–∏–Ω—É—Ç—ã –æ—Ç–¥—ã—Ö–∞',
              focus: '–ì—Ä—É–¥—å, —Ç—Ä–∏—Ü–µ–ø—Å—ã'
            },
            {
              name: '–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å–æ —à—Ç–∞–Ω–≥–æ–π',
              video: 'https://www.youtube.com/embed/bEv6CCg2BC8',
              sets: '5 –ø–æ–¥—Ö–æ–¥–æ–≤ –ø–æ 6-8 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π',
              rest: '3 –º–∏–Ω—É—Ç—ã –æ—Ç–¥—ã—Ö–∞',
              focus: '–ù–æ–≥–∏, —è–≥–æ–¥–∏—Ü—ã'
            }
          ],
          '–°—Ä–µ–¥–∞': [
            {
              name: '–°—Ç–∞–Ω–æ–≤–∞—è —Ç—è–≥–∞',
              video: 'https://www.youtube.com/embed/1XulFrwAN9U',
              sets: '5 –ø–æ–¥—Ö–æ–¥–æ–≤ –ø–æ 5 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π',
              rest: '3 –º–∏–Ω—É—Ç—ã –æ—Ç–¥—ã—Ö–∞',
              focus: '–°–ø–∏–Ω–∞, –Ω–æ–≥–∏'
            }
          ],
          '–ü—è—Ç–Ω–∏—Ü–∞': [
            {
              name: '–ü–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è',
              video: 'https://www.youtube.com/embed/eGo4IYlbE5g',
              sets: '4 –ø–æ–¥—Ö–æ–¥–∞ –¥–æ –æ—Ç–∫–∞–∑–∞',
              rest: '2 –º–∏–Ω—É—Ç—ã –æ—Ç–¥—ã—Ö–∞',
              focus: '–°–ø–∏–Ω–∞, –±–∏—Ü–µ–ø—Å—ã'
            }
          ]
        }
      },
           cardio: {
        title: 'üèÉ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–∏–Ω–≥',
        days: ['–í—Ç–æ—Ä–Ω–∏–∫', '–ß–µ—Ç–≤–µ—Ä–≥', '–°—É–±–±–æ—Ç–∞'],
        schedule: {
          '–í—Ç–æ—Ä–Ω–∏–∫': [
            {
              name: '–ò–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω—ã–π –±–µ–≥',
              video: 'https://www.youtube.com/embed/5umbf5ds-cg',
              duration: '30 –º–∏–Ω—É—Ç',
              intensity: '–í—ã—Å–æ–∫–∞—è'
            }
          ],
          '–ß–µ—Ç–≤–µ—Ä–≥': [
            {
              name: '–ö—Ä–æ—Å—Å—Ñ–∏—Ç –∫–æ–º–ø–ª–µ–∫—Å',
              video: 'https://www.youtube.com/embed/VV3Ra6APM4E',
              duration: '45 –º–∏–Ω—É—Ç',
              intensity: '–í—ã—Å–æ–∫–∞—è'
            }
          ],
          '–°—É–±–±–æ—Ç–∞': [
            {
              name: '–ü—Ä—ã–∂–∫–æ–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞',
              video: 'https://www.youtube.com/embed/X_9LQhwDBkA',
              duration: '35 –º–∏–Ω—É—Ç',
              intensity: '–°—Ä–µ–¥–Ω—è—è'
            }
          ]
        }
      },
      yoga: {
        title: 'üßò –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –π–æ–≥–∞',
        days: ['–£—Ç—Ä–æ', '–í–µ—á–µ—Ä'],
        schedule: {
          '–£—Ç—Ä–æ': [
            {
              name: '–ö–æ–º–ø–ª–µ–∫—Å "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –°–æ–ª–Ω—Ü—É"',
              video: 'https://www.youtube.com/embed/dAqQqmaCCI4',
              duration: '25 –º–∏–Ω—É—Ç',
              focus: '–ì–∏–±–∫–æ—Å—Ç—å, –¥—ã—Ö–∞–Ω–∏–µ'
            }
          ],
          '–í–µ—á–µ—Ä': [
            {
              name: '–†–∞—Å—Å–ª–∞–±–ª—è—é—â–∞—è –π–æ–≥–∞',
              video: 'https://www.youtube.com/embed/4pKly2JojMw',
              duration: '30 –º–∏–Ω—É—Ç',
              focus: '–†–µ–ª–∞–∫—Å–∞—Ü–∏—è'
            }
          ]
        }
      }
    };

    let currentProgram = null;

    function toggleMenu() {
      document.getElementById('menu').classList.toggle('active');
    }

    function selectProgram(type) {
      localStorage.setItem('currentProgram', type);
      currentProgram = programs[type];
      loadProgram();
    }

    function loadProgram() {
      if (!currentProgram) return showTrainingChoice();
      
      document.getElementById('trainingChoice').style.display = 'none';
      document.getElementById('currentProgram').style.display = 'block';
      
      document.getElementById('programTitle').textContent = currentProgram.title;
      updateTrainingDaySelector();
      showTrainingDay(currentProgram.days[0]);
    }

    function updateTrainingDaySelector() {
      const container = document.getElementById('trainingDaySelector');
      container.innerHTML = currentProgram.days.map(day => `
        <button class="day-button ${day === currentProgram.days[0] ? 'active' : ''}" 
                onclick="handleDaySelect('${day}')">
          ${day}
        </button>
      `).join('');
    }

    function handleDaySelect(day) {
      document.querySelectorAll('.day-button').forEach(btn => {
        btn.classList.remove('active');
      });
      event.target.classList.add('active');
      showTrainingDay(day);
    }

    function showTrainingDay(day) {
      const exercises = currentProgram.schedule[day];
      if (!exercises) return;

      document.getElementById('currentTrainingDay').textContent = day;
      
      const exercisesHTML = exercises.map(ex => `
        <div class="exercise-card">
          <h4>${ex.name}</h4>
          <div class="video-container">
            <iframe src="${ex.video}" allowfullscreen></iframe>
          </div>
          <div class="exercise-props">
            ${ex.sets ? `<div class="exercise-prop">üìä ${ex.sets}</div>` : ''}
            ${ex.duration ? `<div class="exercise-prop">‚è± ${ex.duration}</div>` : ''}
            <div class="exercise-prop">üéØ ${ex.focus}</div>
            ${ex.rest ? `<div class="exercise-prop">üõå ${ex.rest}</div>` : ''}
          </div>
        </div>
      `).join('');

      document.getElementById('exerciseList').innerHTML = exercisesHTML;
    }

    function showTrainingChoice() {
      localStorage.removeItem('currentProgram');
      currentProgram = null;
      document.getElementById('trainingChoice').style.display = 'block';
      document.getElementById('currentProgram').style.display = 'none';
    }
    function showTrainingDay(day) {
      const exercises = currentProgram.schedule[day];
      const exerciseList = document.getElementById('exerciseList');
      
      if (!exercises || exercises.length === 0) {
        exerciseList.innerHTML = `
          <div class="exercise-card">
            <h4>–î–µ–Ω—å –æ—Ç–¥—ã—Ö–∞ üßò</h4>
            <p>–°–µ–≥–æ–¥–Ω—è –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ç–¥—ã—Ö</p>
          </div>
        `;
        return;
      }

      const exercisesHTML = exercises.map(ex => `
        <div class="exercise-card">
          <h4>${ex.name}</h4>
          <div class="video-container">
            <iframe 
              src="${ex.video}" 
              allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" 
              allowfullscreen>
            </iframe>
          </div>
          <div class="exercise-props">
            ${ex.sets ? `<div class="exercise-prop">üìä ${ex.sets}</div>` : ''}
            ${ex.duration ? `<div class="exercise-prop">‚è± ${ex.duration}</div>` : ''}
            <div class="exercise-prop">üéØ ${ex.focus || ex.intensity}</div>
            ${ex.rest ? `<div class="exercise-prop">üõå ${ex.rest}</div>` : ''}
          </div>
        </div>
      `).join('');

      exerciseList.innerHTML = exercisesHTML;
    }
    
   
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è VK Mini Apps
vkBridge.send('VKWebAppInit');

// –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
async function fetchUserData() {
  try {
    const user = await vkBridge.send('VKWebAppGetUserInfo');
    
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–≤–∞—Ç–∞—Ä–∫—É
    const userPhoto = document.getElementById('userPhoto');
    userPhoto.src = user.photo_200 || 'https://vk.com/images/camera_200.png';
    
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–º—è
    const username = document.getElementById('username');
    username.textContent = `${user.first_name} ${user.last_name}`;
    
    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
    console.log('User data:', user);
    
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
    // –ó–∞–ø–∞—Å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
    document.getElementById('userPhoto').src = 'https://vk.com/images/camera_200.png';
    document.getElementById('username').textContent = '–ì–æ—Å—Ç—å';
  }
}

// –í—ã–∑—ã–≤–∞–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
window.addEventListener('DOMContentLoaded', () => {
  fetchUserData();
  // –û—Å—Ç–∞–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è...
});

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–º—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', () => {
  const savedTheme = localStorage.getItem('theme') || 'light';
  document.documentElement.setAttribute('data-theme', savedTheme);
});

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    window.addEventListener('DOMContentLoaded', () => {
      const savedProgram = localStorage.getItem('currentProgram');
      if (savedProgram && programs[savedProgram]) {
        currentProgram = programs[savedProgram];
        loadProgram();
      }
    });
  </script>
</body>
</html>